@using App.Domain.Enum
@inject IHttpContextAccessor Http
@inject Microsoft.Extensions.Localization.IStringLocalizerFactory Factory
@{
    var navigation = Factory.Create("Navigation.Navigation", "App.Data");
    var heading = Factory.Create("Heading.Heading", "App.Data");
}

<div class="sidebar d-flex flex-column flex-shrink-0 p-3 text-bg-dark sticky-top"
     style="width:100%; height: calc(100vh - 56px); top: 56px;">
    <a asp-controller="Home" asp-action="Index" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-white text-decoration-none">
        <i class="bi bi-bag me-2" style="font-size:1.8rem;"></i>
        <span class="fs-4">@heading["Heading_Shop"]</span>
    </a>

    <hr class="border-secondary" />

    <ul class="nav nav-pills flex-column mb-auto">
        <li class="nav-item">
            <a class="nav-link text-white" asp-controller="Home" asp-action="Index">
                <i class="bi bi-house-door me-2"></i> @navigation["Navigation_Home_Text"]
            </a>
        </li>
        <li>
            <a class="nav-link text-white">
                <i class="bi bi-speedometer2 me-2"></i> @navigation["Navigation_Dashboard_Text"]
            </a>
        </li>
        <li>
            <a class="nav-link text-white">
                <i class="bi bi-table me-2"></i> @navigation["Navigation_Order_Text"]
            </a>
        </li>
        <li>
            <a class="nav-link text-white">
                <i class="bi bi-grid me-2"></i> @navigation["Navigation_Product_Text"]
            </a>
        </li>
    </ul>

    <hr class="border-secondary" />

    <!-- Categories -->
    <div class="text-uppercase text-secondary small mb-2">@heading["Heading_Categories_Text"]</div>
    <ul class="nav nav-pills flex-column mb-3">
        <li><a class="nav-link text-white" asp-route-slug="monitors"><i class="bi bi-display me-2"></i> @navigation["Navigation_Category_Monitor_Text"]</a></li>
        <li><a class="nav-link text-white" asp-route-slug="laptops"><i class="bi bi-laptop me-2"></i> @navigation["Navigation_Category_Laptop_Text"]</a></li>
        <li><a class="nav-link text-white" asp-route-slug="keyboards"><i class="bi bi-keyboard me-2"></i> @navigation["Navigation_Category_Keyboard_Text"]</a></li>
        <li><a class="nav-link text-white" asp-route-slug="mice"><i class="bi bi-mouse me-2"></i> @navigation["Navigation_Category_Mouse_Text"]</a></li>
        <li><a class="nav-link text-white" asp-route-slug="audio"><i class="bi bi-headphones me-2"></i> @navigation["Navigation_Category_Headphones_Text"]</a></li>
    </ul>

    <!-- Role-specific area -->
    @if (User.IsInRole(RoleType.Admin.ToString()) || User.IsInRole("Admin"))
    {
        <div class="text-uppercase text-secondary small mb-2">Admin</div>
        <ul class="nav nav-pills flex-column mb-3">
            <li><a class="nav-link text-white" asp-area="Admin" asp-controller="Dashboard" asp-action="Index"><i class="bi bi-speedometer me-2"></i> Manage Translation</a></li>
        </ul>
    }
    else if (User.IsInRole(RoleType.Reviewer.ToString()))
    {
        <div class="text-uppercase text-secondary small mb-2">Reviewer</div>
        <ul class="nav nav-pills flex-column mb-3">
            <li><a class="nav-link text-white" asp-controller="Reviews" asp-action="Queue"><i class="bi bi-inboxes me-2"></i> Review Translations</a></li>
        </ul>
    }
    else if (User.IsInRole(RoleType.Translator.ToString()))
    {
        <div class="text-uppercase text-secondary small mb-2">Translator</div>
        <ul class="nav nav-pills flex-column mb-3">
            <li><a class="nav-link text-white" asp-controller="Localization" asp-action="Index"><i class="bi bi-translate me-2"></i> Translate UI</a></li>
        </ul>
    }
</div>
